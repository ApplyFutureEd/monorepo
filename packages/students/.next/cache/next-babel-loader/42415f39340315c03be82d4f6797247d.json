{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/paul/projects/applyfuture/students/node_modules/@applyfuture/ui/src/user-menu/UserMenu.tsx\";\nimport { Dropdown } from '..';\nimport { faHeart, faSignOut } from '@fortawesome/pro-light-svg-icons';\nimport { faUser } from '@fortawesome/pro-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useAuthenticatedUser } from '@applyfuture/utils';\nimport { Auth } from 'aws-amplify';\nimport { useRouter } from 'next/router';\nimport useTranslation from 'next-translate/useTranslation';\nimport { useState } from 'react';\nexport const UserMenu = () => {\n  const router = useRouter();\n  const {\n    t\n  } = useTranslation();\n  const user = useAuthenticatedUser();\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleToggle = () => setOpen(prev => !prev);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleFavorites = () => {\n    handleClose();\n    router.push('/favorites');\n  };\n\n  const handleSignOut = () => {\n    Auth.signOut();\n    window.location.reload();\n  };\n\n  const trigger = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"flex items-center space-x-2 lg:space-x-0\",\n    onClick: handleToggle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      \"aria-haspopup\": \"true\",\n      \"aria-label\": \"User menu\",\n      className: \"flex items-center justify-center w-10 h-10 text-white bg-indigo-600 rounded-full cursor-pointer\",\n      id: \"user-menu\",\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-base font-medium leading-6 lg:hidden\",\n      children: user === null || user === void 0 ? void 0 : user.attributes.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n\n  const items = [{\n    label: t('navigation:favorites'),\n    onClick: handleFavorites,\n    startIcon: faHeart\n  }, {\n    label: t('navigation:sign-out'),\n    onClick: handleSignOut,\n    startIcon: faSignOut\n  }];\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    items: items,\n    open: open,\n    trigger: trigger,\n    onOutsideClick: handleClose\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 12\n  }, this);\n};","map":{"version":3,"sources":["/home/paul/projects/applyfuture/students/node_modules/@applyfuture/ui/src/user-menu/UserMenu.tsx"],"names":["Dropdown","faHeart","faSignOut","faUser","FontAwesomeIcon","useAuthenticatedUser","Auth","useRouter","useTranslation","useState","UserMenu","router","t","user","open","setOpen","handleToggle","prev","handleClose","handleFavorites","push","handleSignOut","signOut","window","location","reload","trigger","attributes","email","items","label","onClick","startIcon"],"mappings":";;AAAA,SAASA,QAAT,QAAuC,IAAvC;AACA,SAASC,OAAT,EAAkBC,SAAlB,QAAmC,kCAAnC;AACA,SAASC,MAAT,QAAuB,kCAAvB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,oBAAT,QAAqC,oBAArC;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAAaC,QAAb,QAA6B,OAA7B;AAEA,OAAO,MAAMC,QAAY,GAAG,MAAM;AAC9B,QAAMC,MAAM,GAAGJ,SAAS,EAAxB;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAQJ,cAAc,EAA5B;AACA,QAAMK,IAAI,GAAGR,oBAAoB,EAAjC;AACA,QAAM;AAAA,OAACS,IAAD;AAAA,OAAOC;AAAP,MAAkBN,QAAQ,CAAC,KAAD,CAAhC;;AAEA,QAAMO,YAAY,GAAG,MAAMD,OAAO,CAAEE,IAAD,IAAU,CAACA,IAAZ,CAAlC;;AAEA,QAAMC,WAAW,GAAG,MAAM;AACtBH,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAIA,QAAMI,eAAe,GAAG,MAAM;AAC1BD,IAAAA,WAAW;AACXP,IAAAA,MAAM,CAACS,IAAP,CAAY,YAAZ;AACH,GAHD;;AAKA,QAAMC,aAAa,GAAG,MAAM;AACxBf,IAAAA,IAAI,CAACgB,OAAL;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAHD;;AAKA,QAAMC,OAAO,gBACT;AAAQ,IAAA,SAAS,EAAC,0CAAlB;AAA6D,IAAA,OAAO,EAAEV,YAAtE;AAAA,4BACI;AACI,uBAAc,MADlB;AAEI,oBAAW,WAFf;AAGI,MAAA,SAAS,EAAC,iGAHd;AAII,MAAA,EAAE,EAAC,WAJP;AAAA,6BAKI,QAAC,eAAD;AAAiB,QAAA,IAAI,EAAEb;AAAvB;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAQI;AAAK,MAAA,SAAS,EAAC,2CAAf;AAAA,gBACKU,IADL,aACKA,IADL,uBACKA,IAAI,CAAEc,UAAN,CAAiBC;AADtB;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;;AAeA,QAAMC,KAA0B,GAAG,CAC/B;AACIC,IAAAA,KAAK,EAAElB,CAAC,CAAC,sBAAD,CADZ;AAEImB,IAAAA,OAAO,EAAEZ,eAFb;AAGIa,IAAAA,SAAS,EAAE/B;AAHf,GAD+B,EAM/B;AACI6B,IAAAA,KAAK,EAAElB,CAAC,CAAC,qBAAD,CADZ;AAEImB,IAAAA,OAAO,EAAEV,aAFb;AAGIW,IAAAA,SAAS,EAAE9B;AAHf,GAN+B,CAAnC;AAaA,sBAAO,QAAC,QAAD;AAAU,IAAA,KAAK,EAAE2B,KAAjB;AAAwB,IAAA,IAAI,EAAEf,IAA9B;AAAoC,IAAA,OAAO,EAAEY,OAA7C;AAAsD,IAAA,cAAc,EAAER;AAAtE;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAnDM","sourcesContent":["import { Dropdown, DropdownItem } from '..';\nimport { faHeart, faSignOut } from '@fortawesome/pro-light-svg-icons';\nimport { faUser } from '@fortawesome/pro-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useAuthenticatedUser } from '@applyfuture/utils';\nimport { Auth } from 'aws-amplify';\nimport { useRouter } from 'next/router';\nimport useTranslation from 'next-translate/useTranslation';\nimport { FC, useState } from 'react';\n\nexport const UserMenu: FC = () => {\n    const router = useRouter();\n    const { t } = useTranslation();\n    const user = useAuthenticatedUser();\n    const [open, setOpen] = useState(false);\n\n    const handleToggle = () => setOpen((prev) => !prev);\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleFavorites = () => {\n        handleClose();\n        router.push('/favorites');\n    };\n\n    const handleSignOut = () => {\n        Auth.signOut();\n        window.location.reload();\n    };\n\n    const trigger = (\n        <button className=\"flex items-center space-x-2 lg:space-x-0\" onClick={handleToggle}>\n            <div\n                aria-haspopup=\"true\"\n                aria-label=\"User menu\"\n                className=\"flex items-center justify-center w-10 h-10 text-white bg-indigo-600 rounded-full cursor-pointer\"\n                id=\"user-menu\">\n                <FontAwesomeIcon icon={faUser} />\n            </div>\n            <div className=\"text-base font-medium leading-6 lg:hidden\">\n                {user?.attributes.email}\n            </div>\n        </button>\n    );\n\n    const items: Array<DropdownItem> = [\n        {\n            label: t('navigation:favorites'),\n            onClick: handleFavorites,\n            startIcon: faHeart\n        },\n        {\n            label: t('navigation:sign-out'),\n            onClick: handleSignOut,\n            startIcon: faSignOut\n        }\n    ];\n\n    return <Dropdown items={items} open={open} trigger={trigger} onOutsideClick={handleClose} />;\n};\n"]},"metadata":{},"sourceType":"module"}