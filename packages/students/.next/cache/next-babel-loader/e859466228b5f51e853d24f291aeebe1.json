{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/paul/projects/applyfuture/students/node_modules/@applyfuture/ui/src/user-menu/UserMenu.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Dropdown } from '..';\nimport { faHeart, faSignOut } from '@fortawesome/pro-light-svg-icons';\nimport { faUser } from '@fortawesome/pro-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useAuthenticatedUser } from '@applyfuture/utils';\nimport { Auth } from 'aws-amplify';\nimport { useRouter } from 'next/router';\nimport useTranslation from 'next-translate/useTranslation';\nimport { useState } from 'react';\nexport var UserMenu = function UserMenu() {\n  _s();\n\n  var router = useRouter();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var user = useAuthenticatedUser();\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var handleToggle = function handleToggle() {\n    return setOpen(function (prev) {\n      return !prev;\n    });\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleFavorites = function handleFavorites() {\n    handleClose();\n    router.push('/favorites');\n  };\n\n  var handleSignOut = function handleSignOut() {\n    Auth.signOut();\n    window.location.reload();\n  };\n\n  var trigger = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"flex items-center space-x-2 lg:space-x-0\",\n    onClick: handleToggle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      \"aria-haspopup\": \"true\",\n      \"aria-label\": \"User menu\",\n      className: \"flex items-center justify-center w-10 h-10 text-white bg-indigo-600 rounded-full cursor-pointer\",\n      id: \"user-menu\",\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-base font-medium leading-6 lg:hidden\",\n      children: user === null || user === void 0 ? void 0 : user.attributes.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, _this);\n\n  var items = [{\n    label: t('navigation:favorites'),\n    onClick: handleFavorites,\n    startIcon: faHeart\n  }, {\n    label: t('navigation:sign-out'),\n    onClick: handleSignOut,\n    startIcon: faSignOut\n  }];\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    items: items,\n    open: open,\n    trigger: trigger,\n    onOutsideClick: handleClose\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 12\n  }, _this);\n};\n\n_s(UserMenu, \"zAI+CdLc+PEWz7sZS8BbB6BRbHE=\", false, function () {\n  return [useRouter, useTranslation, useAuthenticatedUser];\n});\n\n_c = UserMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserMenu\");","map":{"version":3,"sources":["/home/paul/projects/applyfuture/students/node_modules/@applyfuture/ui/src/user-menu/UserMenu.tsx"],"names":["Dropdown","faHeart","faSignOut","faUser","FontAwesomeIcon","useAuthenticatedUser","Auth","useRouter","useTranslation","useState","UserMenu","router","t","user","open","setOpen","handleToggle","prev","handleClose","handleFavorites","push","handleSignOut","signOut","window","location","reload","trigger","attributes","email","items","label","onClick","startIcon"],"mappings":";;;;;;AAAA,SAASA,QAAT,QAAuC,IAAvC;AACA,SAASC,OAAT,EAAkBC,SAAlB,QAAmC,kCAAnC;AACA,SAASC,MAAT,QAAuB,kCAAvB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,oBAAT,QAAqC,oBAArC;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAAaC,QAAb,QAA6B,OAA7B;AAEA,OAAO,IAAMC,QAAY,GAAG,SAAfA,QAAe,GAAM;AAAA;;AAC9B,MAAMC,MAAM,GAAGJ,SAAS,EAAxB;;AAD8B,wBAEhBC,cAAc,EAFE;AAAA,MAEtBI,CAFsB,mBAEtBA,CAFsB;;AAG9B,MAAMC,IAAI,GAAGR,oBAAoB,EAAjC;;AAH8B,kBAINI,QAAQ,CAAC,KAAD,CAJF;AAAA,MAIvBK,IAJuB;AAAA,MAIjBC,OAJiB;;AAM9B,MAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,WAAMD,OAAO,CAAC,UAACE,IAAD;AAAA,aAAU,CAACA,IAAX;AAAA,KAAD,CAAb;AAAA,GAArB;;AAEA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBH,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAIA,MAAMI,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC1BD,IAAAA,WAAW;AACXP,IAAAA,MAAM,CAACS,IAAP,CAAY,YAAZ;AACH,GAHD;;AAKA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBf,IAAAA,IAAI,CAACgB,OAAL;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAHD;;AAKA,MAAMC,OAAO,gBACT;AAAQ,IAAA,SAAS,EAAC,0CAAlB;AAA6D,IAAA,OAAO,EAAEV,YAAtE;AAAA,4BACI;AACI,uBAAc,MADlB;AAEI,oBAAW,WAFf;AAGI,MAAA,SAAS,EAAC,iGAHd;AAII,MAAA,EAAE,EAAC,WAJP;AAAA,6BAKI,QAAC,eAAD;AAAiB,QAAA,IAAI,EAAEb;AAAvB;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,aADJ,eAQI;AAAK,MAAA,SAAS,EAAC,2CAAf;AAAA,gBACKU,IADL,aACKA,IADL,uBACKA,IAAI,CAAEc,UAAN,CAAiBC;AADtB;AAAA;AAAA;AAAA;AAAA,aARJ;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ;;AAeA,MAAMC,KAA0B,GAAG,CAC/B;AACIC,IAAAA,KAAK,EAAElB,CAAC,CAAC,sBAAD,CADZ;AAEImB,IAAAA,OAAO,EAAEZ,eAFb;AAGIa,IAAAA,SAAS,EAAE/B;AAHf,GAD+B,EAM/B;AACI6B,IAAAA,KAAK,EAAElB,CAAC,CAAC,qBAAD,CADZ;AAEImB,IAAAA,OAAO,EAAEV,aAFb;AAGIW,IAAAA,SAAS,EAAE9B;AAHf,GAN+B,CAAnC;AAaA,sBAAO,QAAC,QAAD;AAAU,IAAA,KAAK,EAAE2B,KAAjB;AAAwB,IAAA,IAAI,EAAEf,IAA9B;AAAoC,IAAA,OAAO,EAAEY,OAA7C;AAAsD,IAAA,cAAc,EAAER;AAAtE;AAAA;AAAA;AAAA;AAAA,WAAP;AACH,CAnDM;;GAAMR,Q;UACMH,S,EACDC,c,EACDH,oB;;;KAHJK,Q","sourcesContent":["import { Dropdown, DropdownItem } from '..';\nimport { faHeart, faSignOut } from '@fortawesome/pro-light-svg-icons';\nimport { faUser } from '@fortawesome/pro-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useAuthenticatedUser } from '@applyfuture/utils';\nimport { Auth } from 'aws-amplify';\nimport { useRouter } from 'next/router';\nimport useTranslation from 'next-translate/useTranslation';\nimport { FC, useState } from 'react';\n\nexport const UserMenu: FC = () => {\n    const router = useRouter();\n    const { t } = useTranslation();\n    const user = useAuthenticatedUser();\n    const [open, setOpen] = useState(false);\n\n    const handleToggle = () => setOpen((prev) => !prev);\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleFavorites = () => {\n        handleClose();\n        router.push('/favorites');\n    };\n\n    const handleSignOut = () => {\n        Auth.signOut();\n        window.location.reload();\n    };\n\n    const trigger = (\n        <button className=\"flex items-center space-x-2 lg:space-x-0\" onClick={handleToggle}>\n            <div\n                aria-haspopup=\"true\"\n                aria-label=\"User menu\"\n                className=\"flex items-center justify-center w-10 h-10 text-white bg-indigo-600 rounded-full cursor-pointer\"\n                id=\"user-menu\">\n                <FontAwesomeIcon icon={faUser} />\n            </div>\n            <div className=\"text-base font-medium leading-6 lg:hidden\">\n                {user?.attributes.email}\n            </div>\n        </button>\n    );\n\n    const items: Array<DropdownItem> = [\n        {\n            label: t('navigation:favorites'),\n            onClick: handleFavorites,\n            startIcon: faHeart\n        },\n        {\n            label: t('navigation:sign-out'),\n            onClick: handleSignOut,\n            startIcon: faSignOut\n        }\n    ];\n\n    return <Dropdown items={items} open={open} trigger={trigger} onOutsideClick={handleClose} />;\n};\n"]},"metadata":{},"sourceType":"module"}