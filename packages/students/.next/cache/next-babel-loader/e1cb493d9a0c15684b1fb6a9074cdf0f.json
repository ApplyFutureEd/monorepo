{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/paul/projects/applyfuture/students/node_modules/@applyfuture/ui/src/language-menu/LanguageMenu.tsx\";\nimport { Dropdown } from '..';\nimport Flags from 'country-flag-icons/react/3x2';\nimport Cookies from 'js-cookie';\nimport { useRouter } from 'next/router';\nimport { useState } from 'react';\nexport const LanguageMenu = () => {\n  var _languages$find;\n\n  const router = useRouter();\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleToggle = () => setOpen(prev => !prev);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleLanguageChange = locale => {\n    handleClose();\n    Cookies.set('NEXT_LOCALE', locale);\n    router.push(router.asPath, router.asPath, {\n      locale\n    });\n  };\n\n  const languages = [{\n    flag: /*#__PURE__*/_jsxDEV(Flags.US, {\n      className: \"h-4\",\n      title: \"English\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 19\n    }, this),\n    locale: 'en',\n    name: 'English'\n  }, {\n    flag: /*#__PURE__*/_jsxDEV(Flags.CN, {\n      className: \"h-4\",\n      title: \"\\u7B80\\u4F53\\u4E2D\\u6587\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 19\n    }, this),\n    locale: 'zh',\n    name: '简体中文'\n  }, {\n    flag: /*#__PURE__*/_jsxDEV(Flags.FR, {\n      className: \"h-4\",\n      title: \"Fran\\xE7ais\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 19\n    }, this),\n    locale: 'fr',\n    name: 'Français'\n  }];\n\n  const trigger = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"flex items-center space-x-2 lg:space-x-0\",\n    onClick: handleToggle,\n    children: (_languages$find = languages.find(language => language.locale === router.locale)) === null || _languages$find === void 0 ? void 0 : _languages$find.flag\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n\n  const items = languages.map(language => {\n    const {\n      flag,\n      locale,\n      name\n    } = language;\n    return {\n      label: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [flag, /*#__PURE__*/_jsxDEV(\"span\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this),\n      onClick: () => handleLanguageChange(locale)\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    items: items,\n    open: open,\n    trigger: trigger,\n    onOutsideClick: handleClose\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 12\n  }, this);\n};","map":{"version":3,"sources":["/home/paul/projects/applyfuture/students/node_modules/@applyfuture/ui/src/language-menu/LanguageMenu.tsx"],"names":["Dropdown","Flags","Cookies","useRouter","useState","LanguageMenu","router","open","setOpen","handleToggle","prev","handleClose","handleLanguageChange","locale","set","push","asPath","languages","flag","name","trigger","find","language","items","map","label","onClick"],"mappings":";;AAAA,SAASA,QAAT,QAAuC,IAAvC;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAAaC,QAAb,QAA6B,OAA7B;AAEA,OAAO,MAAMC,YAAgB,GAAG,MAAM;AAAA;;AAClC,QAAMC,MAAM,GAAGH,SAAS,EAAxB;AACA,QAAM;AAAA,OAACI,IAAD;AAAA,OAAOC;AAAP,MAAkBJ,QAAQ,CAAC,KAAD,CAAhC;;AAEA,QAAMK,YAAY,GAAG,MAAMD,OAAO,CAAEE,IAAD,IAAU,CAACA,IAAZ,CAAlC;;AAEA,QAAMC,WAAW,GAAG,MAAM;AACtBH,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAIA,QAAMI,oBAAoB,GAAIC,MAAD,IAAoB;AAC7CF,IAAAA,WAAW;AACXT,IAAAA,OAAO,CAACY,GAAR,CAAY,aAAZ,EAA2BD,MAA3B;AACAP,IAAAA,MAAM,CAACS,IAAP,CAAYT,MAAM,CAACU,MAAnB,EAA2BV,MAAM,CAACU,MAAlC,EAA0C;AAAEH,MAAAA;AAAF,KAA1C;AACH,GAJD;;AAMA,QAAMI,SAAS,GAAG,CACd;AACIC,IAAAA,IAAI,eAAE,QAAC,KAAD,CAAO,EAAP;AAAU,MAAA,SAAS,EAAC,KAApB;AAA0B,MAAA,KAAK,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA,YADV;AAEIL,IAAAA,MAAM,EAAE,IAFZ;AAGIM,IAAAA,IAAI,EAAE;AAHV,GADc,EAMd;AACID,IAAAA,IAAI,eAAE,QAAC,KAAD,CAAO,EAAP;AAAU,MAAA,SAAS,EAAC,KAApB;AAA0B,MAAA,KAAK,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA,YADV;AAEIL,IAAAA,MAAM,EAAE,IAFZ;AAGIM,IAAAA,IAAI,EAAE;AAHV,GANc,EAWd;AACID,IAAAA,IAAI,eAAE,QAAC,KAAD,CAAO,EAAP;AAAU,MAAA,SAAS,EAAC,KAApB;AAA0B,MAAA,KAAK,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA,YADV;AAEIL,IAAAA,MAAM,EAAE,IAFZ;AAGIM,IAAAA,IAAI,EAAE;AAHV,GAXc,CAAlB;;AAkBA,QAAMC,OAAO,gBACT;AAAQ,IAAA,SAAS,EAAC,0CAAlB;AAA6D,IAAA,OAAO,EAAEX,YAAtE;AAAA,iCACKQ,SAAS,CAACI,IAAV,CAAgBC,QAAD,IAAcA,QAAQ,CAACT,MAAT,KAAoBP,MAAM,CAACO,MAAxD,CADL,oDACK,gBAAiEK;AADtE;AAAA;AAAA;AAAA;AAAA,UADJ;;AAMA,QAAMK,KAA0B,GAAGN,SAAS,CAACO,GAAV,CAAeF,QAAD,IAAc;AAC3D,UAAM;AAAEJ,MAAAA,IAAF;AAAQL,MAAAA,MAAR;AAAgBM,MAAAA;AAAhB,QAAyBG,QAA/B;AAEA,WAAO;AACHG,MAAAA,KAAK,eACD;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA,mBACKP,IADL,eAEI;AAAA,oBAAOC;AAAP;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFD;AAOHO,MAAAA,OAAO,EAAE,MAAMd,oBAAoB,CAACC,MAAD;AAPhC,KAAP;AASH,GAZkC,CAAnC;AAcA,sBAAO,QAAC,QAAD;AAAU,IAAA,KAAK,EAAEU,KAAjB;AAAwB,IAAA,IAAI,EAAEhB,IAA9B;AAAoC,IAAA,OAAO,EAAEa,OAA7C;AAAsD,IAAA,cAAc,EAAET;AAAtE;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAvDM","sourcesContent":["import { Dropdown, DropdownItem } from '..';\nimport Flags from 'country-flag-icons/react/3x2';\nimport Cookies from 'js-cookie';\nimport { useRouter } from 'next/router';\nimport { FC, useState } from 'react';\n\nexport const LanguageMenu: FC = () => {\n    const router = useRouter();\n    const [open, setOpen] = useState(false);\n\n    const handleToggle = () => setOpen((prev) => !prev);\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleLanguageChange = (locale: string) => {\n        handleClose();\n        Cookies.set('NEXT_LOCALE', locale);\n        router.push(router.asPath, router.asPath, { locale });\n    };\n\n    const languages = [\n        {\n            flag: <Flags.US className=\"h-4\" title=\"English\" />,\n            locale: 'en',\n            name: 'English'\n        },\n        {\n            flag: <Flags.CN className=\"h-4\" title=\"简体中文\" />,\n            locale: 'zh',\n            name: '简体中文'\n        },\n        {\n            flag: <Flags.FR className=\"h-4\" title=\"Français\" />,\n            locale: 'fr',\n            name: 'Français'\n        }\n    ];\n\n    const trigger = (\n        <button className=\"flex items-center space-x-2 lg:space-x-0\" onClick={handleToggle}>\n            {languages.find((language) => language.locale === router.locale)?.flag}\n        </button>\n    );\n\n    const items: Array<DropdownItem> = languages.map((language) => {\n        const { flag, locale, name } = language;\n\n        return {\n            label: (\n                <div className=\"flex items-center space-x-2\">\n                    {flag}\n                    <span>{name}</span>\n                </div>\n            ),\n            onClick: () => handleLanguageChange(locale)\n        };\n    });\n\n    return <Dropdown items={items} open={open} trigger={trigger} onOutsideClick={handleClose} />;\n};\n"]},"metadata":{},"sourceType":"module"}